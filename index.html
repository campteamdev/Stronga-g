<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa Kemping√≥w</title>
   
    <!-- ‚úÖ CSS -->
    <!-- ‚úÖ Dodanie Leaflet.markercluster -->

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="filters.css">
<!-- ‚úÖ Wstƒôpne ≈Çadowanie kafelk√≥w OpenStreetMap -->
<link rel="preload" as="image" href="https://b.tile.openstreetmap.org/10/512/341.png">
<link rel="preload" as="image" href="https://c.tile.openstreetmap.org/10/513/341.png">
<link rel="preload" as="image" href="https://a.tile.openstreetmap.org/10/512/342.png">

    <!-- ‚úÖ Biblioteki JS -->
    <!-- ‚úÖ Leaflet MarkerCluster -->


    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fuzzball@2.1.3/dist/fuzzball.umd.min.js"></script>
    <script>window.fuzzball = fuzzball;</script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css">
    <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
    
    <!-- ‚úÖ G≈Ç√≥wny plik JS -->

<script src="image-loader.js" defer></script>
<script src="filters.js"></script>
<script src="custom-functions.js" defer></script>
<script src="comments.js" defer></script>

 <!-- Google tag (gtag.js) -->
 <script async src="https://www.googletagmanager.com/gtag/js?id=G-MB2PNH4K2N"></script>
 <script>
   window.dataLayer = window.dataLayer || [];
   function gtag(){dataLayer.push(arguments);}
   gtag('js', new Date());
 
   gtag('config', 'G-MB2PNH4K2N');
 </script>


</head>
<body>

    <!-- üîπ Ekran ≈Çadowania -->
    <div id="loading-screen">
        <div class="loading-text">≈Åadowanie danych...</div>
    </div>

    <div id="search-container">
        <div id="search-bar">
            <input type="text" id="search-input" placeholder="Znajd≈∫ obiekt...">
            <button id="search-button">Szukaj</button>
        </div>
        <div id="suggestions"></div>
    </div>
    <div id="map-container">
        <div id="map"></div>
    
        <!-- üü¢ Przycisk dodawania (widoczny tylko na telefonach) -->
        <a href="https://www.campteam.pl/dodaj" target="_blank" id="add-button">
            <img src="https://raw.githubusercontent.com/campteamdev/Stronga-g/main/ikony/dodaj.webp" alt="Dodaj">
        </a>
    </div>
    
    

    <script>
       document.addEventListener("DOMContentLoaded", function () {
    const searchContainer = document.getElementById("search-container");

    if (typeof map !== "undefined") {  // ‚úÖ Sprawdzenie czy `map` istnieje
        map.on("popupopen", function () {
            if (window.innerWidth <= 768) searchContainer.style.display = "none";
        });

        map.on("popupclose", function () {
            if (window.innerWidth <= 768) searchContainer.style.display = "block";
        });
    } else {
        console.error("‚ùå B≈ÇƒÖd: `map` nie zosta≈Ça poprawnie zainicjalizowana!");
    }
});

    </script>
<!-- üìå Popup dla formularza Zoho -->
<div id="photo-form-popup" class="popup">
    <div class="popup-content">
        <span id="close-photo-popup" class="close-button">&times;</span>
        <iframe id="zoho-iframe" frameborder="0"></iframe>
    </div>
</div>



</body>
</html>
